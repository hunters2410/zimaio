import{b as pe,a as ue,e as xe,f as ye,c as fe,u as he,r as p,j as e,M as ge,g as be,U as ve,s as h}from"./index-DO0RgZ49.js";import{p as U}from"./paymentService-Cuar7UO3.js";import{C as V}from"./credit-card-CQ2BKawh.js";import{S as Q,L as je}from"./smartphone-D9T8S7jC.js";import{W as we}from"./wallet-C3LNpqMM.js";import{T as _e}from"./truck-B6XH1kda.js";import{S as Ne}from"./shield-check-VbxTMbN4.js";import{L as ke}from"./lock-CYkULL1F.js";function Me(){const{user:g}=pe(),{cartItems:k,clearCart:P}=ue(),{formatPrice:j}=xe(),{calculatePrice:W,settings:b}=ye();fe();const M=he(),[J,T]=p.useState(!1),[se,le]=p.useState([]),[a,C]=p.useState(null),[$,ie]=p.useState([]),[c,E]=p.useState(""),[I,K]=p.useState(""),[S,X]=p.useState(""),[ee,te]=p.useState(""),[x,B]=p.useState({pan:"",expiry:"",cvv:""}),[Y,oe]=p.useState(""),ne=k.reduce((t,s)=>t+s.base_price*s.quantity,0),{totalTax:de,totalWithTax:z}=k.reduce((t,s)=>{const l=W(s.base_price);return{totalTax:t.totalTax+l.vat*s.quantity,totalWithTax:t.totalWithTax+l.total*s.quantity}},{totalTax:0,totalWithTax:0}),[u,Z]=p.useState({street:"",city:"",state:"",zip:"",country:"Zimbabwe"}),q=a?a.base_cost:0,O=z+q,w=se.filter(t=>{const s=t.min_order_total||0,l=t.max_order_total;return z>=s&&(l==null||z<=l)});p.useEffect(()=>{w.length>0?(!a||a.id!=="pickup"&&!w.find(t=>t.id===a.id))&&C(w[0]):(!a||a.id!=="pickup")&&C({id:"pickup",display_name:"Store Pickup",base_cost:0,delivery_time_min:0,delivery_time_max:0})},[w,a]),p.useEffect(()=>{const t=async()=>{const{data:l}=await h.from("shipping_methods").select("*").eq("is_active",!0);l&&(le(l),C(l[0]||null))},s=async()=>{const l=await U.getActiveGateways();ie(l),l.length>0&&(l.some(r=>r.gateway_type==="iveri")?E("iveri_card"):E(l[0].gateway_type))};t(),s(),g&&(K(g.email||""),(async()=>{const{data:r}=await h.from("profiles").select("*").eq("id",g.id).single();r&&(X(r.full_name||""),te(r.phone||""))})())},[g]);const ae=async()=>{const t=Math.random().toString(36).slice(-8)+"Aa1!",{data:s,error:l}=await h.auth.signUp({email:I,password:t,options:{data:{full_name:S,phone:ee,role:"customer"}}});if(l)throw l;return{user:s.user,password:t}};p.useEffect(()=>{c==="paypal"&&(async()=>{var l;const s=$.find(r=>r.gateway_type==="paypal");if(!(!s||!((l=s.configuration)!=null&&l.client_id)))if(document.getElementById("paypal-sdk"))re();else{const r=document.createElement("script");r.id="paypal-sdk",r.src=`https://www.paypal.com/sdk/js?client-id=${s.configuration.client_id}&currency=USD`,r.onload=re,document.body.appendChild(r)}})()},[c,$]);const re=()=>{if(window.paypal){const t=document.getElementById("paypal-button-container");t&&(t.innerHTML=""),window.paypal.Buttons({createOrder:async(s,l)=>{try{return l.order.create({purchase_units:[{amount:{value:O.toFixed(2)},description:`Order from ${(b==null?void 0:b.site_name)||"ZimAIO"}`}]})}catch(r){return console.error("PayPal Create Error",r),null}},onApprove:async(s,l)=>{const r=await l.order.capture();await ce(r)},onError:s=>{console.error("PayPal Error",s),alert("PayPal payment failed")}}).render("#paypal-button-container")}},ce=async t=>{T(!0);try{let s=g;if(!s){if(!I)throw new Error("Email is required for receipt.");const{user:m,password:i}=await ae();s=m}if(!s)throw new Error("Authentication failed during order creation.");const l=k.reduce((m,i)=>(m[i.vendor_id]||(m[i.vendor_id]=[]),m[i.vendor_id].push(i),m),{}),r=Object.entries(l).map(async([m,i])=>{var G;const o=i.reduce((d,n)=>d+n.base_price*n.quantity,0),v=i.reduce((d,n)=>{const y=W(n.base_price);return{total:d.total+y.total*n.quantity,tax:d.tax+y.vat*n.quantity,comm:d.comm+y.commission*n.quantity}},{tax:0,comm:0,total:0}),f=v.total+q/Object.keys(l).length,L=(a==null?void 0:a.id)==="pickup",F=L?{street:"Store Pickup",city:"Store Pickup",state:"Store Pickup",country:"Zimbabwe",zip:"0000"}:u,R=L?null:a==null?void 0:a.id,{data:A,error:_}=await h.from("orders").insert({customer_id:s.id,vendor_id:m,status:"processing",payment_status:"paid",payment_method:"paypal",shipping_method_id:R,shipping_address:F,subtotal:o,tax_total:v.tax,shipping_total:q/Object.keys(l).length,total:f,commission_amount:v.comm}).select().single();if(_)throw _;const N=i.map(d=>({order_id:A.id,product_id:d.id,quantity:d.quantity,unit_price:d.price,total_price:d.price*d.quantity,vendor_id:m}));return await h.from("order_items").insert(N),await h.from("payment_transactions").insert({order_id:A.id,user_id:s.id,gateway_id:(G=$.find(d=>d.gateway_type==="paypal"))==null?void 0:G.id,gateway_type:"paypal",amount:f,currency:"USD",status:"completed",transaction_reference:t.id,metadata:{paypal_payer:t.payer}}),A}),D=await Promise.all(r);P(),M(`/orders/${D[0].id}?payment=success`)}catch(s){console.error("Order Finalization Error",s),alert("Payment received but order creation failed. Please contact support.")}finally{T(!1)}},me=async()=>{var t,s,l;T(!0);try{let r=g;if(!r){if(!I)throw new Error("Email is required for guest checkout.");const{user:i,password:o}=await ae();r=i,r&&((a==null?void 0:a.id)!=="pickup"&&await h.from("profiles").update({city:u.city,country:u.country}).eq("id",r.id),alert(`Account created! Your temporary password is: ${o}. Please check your email.`))}if(!r)throw new Error("Authentication failed.");if((a==null?void 0:a.id)!=="pickup"&&(!u.street||!u.city||!u.state))throw new Error("Please enter a valid shipping address.");const D=k.reduce((i,o)=>(i[o.vendor_id]||(i[o.vendor_id]=[]),i[o.vendor_id].push(o),i),{}),m=Object.entries(D).map(async([i,o])=>{const v=o.reduce((n,y)=>n+y.base_price*y.quantity,0),f=o.reduce((n,y)=>{const H=W(y.base_price);return{tax:n.tax+H.vat*y.quantity,comm:n.comm+H.commission*y.quantity,total:n.total+H.total*y.quantity}},{tax:0,comm:0,total:0}),L=f.total+q/Object.keys(D).length,F=(a==null?void 0:a.id)==="pickup",R=F?{street:"Store Pickup",city:"Store Pickup",state:"Store Pickup",country:"Zimbabwe",zip:"0000"}:u,A=F?null:a==null?void 0:a.id,{data:_,error:N}=await h.from("orders").insert({customer_id:r.id,vendor_id:i,status:"pending",payment_status:"pending",payment_method:c,shipping_method_id:A,shipping_address:R,subtotal:v,tax_total:f.tax,shipping_total:q/Object.keys(D).length,total:L,commission_amount:f.comm}).select().single();if(N)throw N;return{data:_}});if(await Promise.all(m),["paynow","paypal"].includes(c)){const i=(t=(await Promise.all(m))[0])==null?void 0:t.data;if(!i)throw new Error("Order creation failed");const o=await U.initiatePayment({order_id:i.id,gateway_type:c,amount:O,currency:"USD",return_url:`${window.location.origin}/orders/${i.id}?payment=success`,metadata:{customer_name:S||(r==null?void 0:r.email),full_cart_payment:!0}});if(o.redirect_url){window.location.href=o.redirect_url,P();return}}else if(c==="iveri_card"){const i=(s=(await Promise.all(m))[0])==null?void 0:s.data;if(!i)throw new Error("Order creation failed");if(!x.pan||!x.expiry||!x.cvv)throw new Error("Please enter valid card details.");const o=await U.initiatePayment({order_id:i.id,gateway_type:"iveri",amount:O,currency:"USD",metadata:{customer_name:S||(r==null?void 0:r.email),full_cart_payment:!0,card_pan:x.pan.replace(/\s/g,""),card_expiry:x.expiry,card_cvv:x.cvv,payment_subtype:"card"}});if(o.success)P(),M(`/orders/${i.id}?payment=success`);else throw new Error(o.error||"Card payment processing failed")}else if(c==="iveri_ecocash"){const i=(l=(await Promise.all(m))[0])==null?void 0:l.data;if(!i)throw new Error("Order creation failed");if(!Y)throw new Error("Please enter your EcoCash number.");const v=`910012${Y.replace(/\D/g,"")}`,f=await U.initiatePayment({order_id:i.id,gateway_type:"iveri",amount:O,currency:"USD",metadata:{customer_name:S||(r==null?void 0:r.email),full_cart_payment:!0,card_pan:v,card_expiry:"1228",card_cvv:"",payment_subtype:"ecocash"}});if(f.success)P(),M(`/orders/${i.id}?payment=success`);else throw new Error(f.error||"EcoCash payment processing failed")}else P(),M("/orders")}catch(r){console.error(r),alert(r.message||"Checkout failed")}finally{T(!1)}};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[e.jsx("h1",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight mb-8",children:"Secure Checkout"}),e.jsxs("div",{className:"grid lg:grid-cols-12 gap-8",children:[e.jsxs("div",{className:"lg:col-span-8 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-[2rem] p-8 shadow-sm border border-gray-100",children:[e.jsxs("h2",{className:"text-lg font-bold flex items-center gap-3 mb-4",children:[e.jsx("span",{className:"w-6 h-6 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center text-xs",children:"1"}),"Contact Information"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-bold uppercase text-gray-500 mb-1",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(ge,{className:"absolute left-3 top-2.5 w-3.5 h-3.5 text-gray-400"}),e.jsx("input",{type:"email",disabled:!!g,value:I,onChange:t=>K(t.target.value),className:"w-full pl-9 pr-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:border-emerald-500 font-medium text-xs text-gray-700"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-bold uppercase text-gray-500 mb-1",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(be,{className:"absolute left-3 top-2.5 w-3.5 h-3.5 text-gray-400"}),e.jsx("input",{type:"tel",value:ee,onChange:t=>te(t.target.value),className:"w-full pl-9 pr-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:border-emerald-500 font-medium text-xs text-gray-700"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-[10px] font-bold uppercase text-gray-500 mb-1",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(ve,{className:"absolute left-3 top-2.5 w-3.5 h-3.5 text-gray-400"}),e.jsx("input",{type:"text",value:S,onChange:t=>X(t.target.value),className:"w-full pl-9 pr-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:border-emerald-500 font-medium text-xs text-gray-700"})]})]})]})]}),(a==null?void 0:a.id)!=="pickup"&&e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[e.jsxs("h2",{className:"text-lg font-bold flex items-center gap-3 mb-4",children:[e.jsx("span",{className:"w-6 h-6 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center text-xs",children:"2"}),"Shipping Address"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-[10px] font-bold uppercase text-gray-500 mb-1",children:"Street Address"}),e.jsx("input",{type:"text",value:u.street,onChange:t=>Z({...u,street:t.target.value}),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:border-emerald-500 font-medium text-xs text-gray-700"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-bold uppercase text-gray-500 mb-1",children:"City"}),e.jsx("input",{type:"text",value:u.city,onChange:t=>Z({...u,city:t.target.value}),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:border-emerald-500 font-medium text-xs text-gray-700"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-bold uppercase text-gray-500 mb-1",children:"Province/State"}),e.jsx("input",{type:"text",value:u.state,onChange:t=>Z({...u,state:t.target.value}),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:border-emerald-500 font-medium text-xs text-gray-700"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[e.jsxs("h2",{className:"text-lg font-bold flex items-center gap-3 mb-4",children:[e.jsx("span",{className:"w-6 h-6 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center text-xs",children:"3"}),"Delivery Method"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[e.jsxs("div",{onClick:()=>C({id:"pickup",display_name:"Store Pickup",base_cost:0,delivery_time_min:0,delivery_time_max:0}),className:`cursor-pointer border rounded-xl p-3 flex items-center justify-between transition-all ${(a==null?void 0:a.id)==="pickup"?"border-emerald-500 bg-emerald-50/20":"border-gray-100 hover:border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-4 h-4 rounded-full border flex items-center justify-center ${(a==null?void 0:a.id)==="pickup"?"border-emerald-500":"border-gray-300"}`,children:(a==null?void 0:a.id)==="pickup"&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-xs text-gray-900",children:"Store Pickup"}),e.jsx("p",{className:"text-[10px] text-gray-400 font-medium",children:"Collect directly from shop"})]})]}),e.jsx("span",{className:"font-bold text-xs text-emerald-600",children:"FREE"})]}),w.map(t=>e.jsxs("div",{onClick:()=>C(t),className:`cursor-pointer border rounded-xl p-3 flex items-center justify-between transition-all ${(a==null?void 0:a.id)===t.id?"border-emerald-500 bg-emerald-50/20":"border-gray-100 hover:border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-4 h-4 rounded-full border flex items-center justify-center ${(a==null?void 0:a.id)===t.id?"border-emerald-500":"border-gray-300"}`,children:(a==null?void 0:a.id)===t.id&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-xs text-gray-900",children:t.display_name}),e.jsxs("p",{className:"text-[10px] text-gray-400 font-medium",children:[t.delivery_time_min,"-",t.delivery_time_max," Days"]})]})]}),e.jsx("span",{className:"font-bold text-xs text-gray-900",children:j(t.base_cost)})]},t.id)),w.length===0&&e.jsx("div",{className:"col-span-2 p-4 text-center border border-dashed border-gray-100 rounded-xl",children:e.jsx("p",{className:"text-xs text-gray-400",children:"No shipping methods available for your current order total. Only Pick Up available."})})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[e.jsxs("h2",{className:"text-lg font-bold flex items-center gap-3 mb-4",children:[e.jsx("span",{className:"w-6 h-6 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center text-xs",children:"4"}),"Payment Method"]}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:$.map(t=>{if(t.gateway_type==="iveri")return e.jsxs(e.Fragment,{children:[e.jsxs("div",{onClick:()=>E("iveri_card"),className:`cursor-pointer border rounded-xl p-3 flex flex-col items-center justify-center gap-2 transition-all ${c==="iveri_card"?"border-emerald-500 bg-emerald-50/20 text-emerald-700":"border-gray-100 text-gray-400 hover:border-gray-200"}`,children:[e.jsx(V,{className:"w-5 h-5"}),e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wide text-center",children:"In-Store Card"})]},"iveri_card"),e.jsxs("div",{onClick:()=>E("iveri_ecocash"),className:`cursor-pointer border rounded-xl p-3 flex flex-col items-center justify-center gap-2 transition-all ${c==="iveri_ecocash"?"border-emerald-500 bg-emerald-50/20 text-emerald-700":"border-gray-100 text-gray-400 hover:border-gray-200"}`,children:[e.jsx(Q,{className:"w-5 h-5"}),e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wide text-center",children:"EcoCash"})]},"iveri_ecocash")]});const s=t.gateway_type==="paynow"?Q:t.gateway_type==="stripe"?V:t.gateway_type==="paypal"?we:t.gateway_type==="cash"?_e:V;return e.jsxs("div",{onClick:()=>E(t.gateway_type),className:`cursor-pointer border rounded-xl p-3 flex flex-col items-center justify-center gap-2 transition-all ${c===t.gateway_type?"border-emerald-500 bg-emerald-50/20 text-emerald-700":"border-gray-100 text-gray-400 hover:border-gray-200"}`,children:[e.jsx(s,{className:"w-5 h-5"}),e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wide text-center",children:t.display_name})]},t.id)})}),c==="iveri_card"&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100 animate-in slide-in-from-top-2 fade-in",children:[e.jsx("h3",{className:"text-xs font-black text-gray-900 uppercase tracking-widest mb-4",children:"Card Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-bold uppercase text-gray-500 mb-1",children:"Card Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(V,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",maxLength:19,placeholder:"0000 0000 0000 0000",value:x.pan,onChange:t=>B({...x,pan:t.target.value}),className:"w-full pl-9 pr-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:border-emerald-500 font-medium text-xs text-gray-700 tracking-wider"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-bold uppercase text-gray-500 mb-1",children:"Expiry Date"}),e.jsx("input",{type:"text",placeholder:"MMYY",maxLength:4,value:x.expiry,onChange:t=>B({...x,expiry:t.target.value}),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:border-emerald-500 font-medium text-xs text-gray-700 text-center"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-bold uppercase text-gray-500 mb-1",children:"CVV / CVC"}),e.jsx("input",{type:"text",maxLength:4,placeholder:"123",value:x.cvv,onChange:t=>B({...x,cvv:t.target.value}),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:border-emerald-500 font-medium text-xs text-gray-700 text-center"})]})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-2 text-emerald-600 bg-emerald-50 p-3 rounded-lg",children:[e.jsx(Ne,{className:"w-4 h-4"}),e.jsx("p",{className:"text-[10px] font-bold leading-tight",children:"Your card details are securely processed via iVeri Enterprise Gateway."})]})]}),c==="iveri_ecocash"&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100 animate-in slide-in-from-top-2 fade-in",children:[e.jsx("h3",{className:"text-xs font-black text-gray-900 uppercase tracking-widest mb-4",children:"EcoCash Details"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-bold uppercase text-gray-500 mb-1",children:"Mobile Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(Q,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"tel",placeholder:"077 123 4567",value:Y,onChange:t=>oe(t.target.value),className:"w-full pl-9 pr-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:border-emerald-500 font-medium text-xs text-gray-700 tracking-wider"})]}),e.jsx("p",{className:"text-[9px] text-gray-400 mt-2 ml-1",children:"We will send a push notification to your phone."})]})]}),c==="paypal"&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100 animate-in slide-in-from-top-2 fade-in",children:[e.jsx("div",{id:"paypal-button-container",className:"w-full"}),e.jsx("p",{className:"text-[10px] text-center text-gray-400 mt-2",children:"Secure payment processing by PayPal. You will be redirected to PayPal to complete your purchase."})]})]})]}),e.jsx("div",{className:"lg:col-span-4",children:e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-6 shadow-sm sticky top-24",children:[e.jsx("h3",{className:"text-lg font-black text-gray-900 uppercase tracking-tight mb-6",children:"Order Summary"}),e.jsx("div",{className:"space-y-3 mb-4",children:k.map(t=>e.jsxs("div",{className:"flex justify-between items-start gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-50 rounded-lg overflow-hidden border border-gray-100",children:e.jsx("img",{src:t.image,className:"w-full h-full object-cover"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[11px] font-bold text-gray-900 line-clamp-1",children:t.name}),e.jsxs("p",{className:"text-[9px] text-gray-400",children:["Qty: ",t.quantity]})]})]}),e.jsx("span",{className:"text-[11px] font-black text-gray-900",children:j(t.price*t.quantity)})]},t.id))}),e.jsx("div",{className:"border-t border-gray-100 my-4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 font-medium",children:[e.jsx("span",{children:"Subtotal"}),e.jsx("span",{className:"text-gray-900 font-bold",children:j(ne)})]}),(b==null?void 0:b.is_enabled)&&e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 font-medium",children:[e.jsxs("span",{children:["VAT (",b.default_rate,"%)"]}),e.jsx("span",{className:"text-gray-900 font-bold",children:j(de)})]}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 font-medium",children:[e.jsx("span",{children:"Shipping"}),e.jsx("span",{className:"text-emerald-600 font-bold",children:a?j(a.base_cost):"--"})]})]}),e.jsx("div",{className:"border-t border-gray-100 my-6 pt-6",children:e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsx("span",{className:"font-black text-gray-900 uppercase",children:"Total"}),e.jsx("span",{className:"text-3xl font-black text-emerald-600 leading-none",children:j(O)})]})}),c!=="paypal"&&e.jsx("button",{onClick:me,disabled:J,className:"w-full py-4 bg-emerald-600 text-white rounded-xl font-black uppercase tracking-widest text-xs shadow-xl shadow-emerald-200 hover:bg-emerald-700 active:scale-95 transition-all flex items-center justify-center gap-2",children:J?e.jsx(je,{className:"w-4 h-4 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(ke,{className:"w-4 h-4"})," Pay & Place Order"]})})]})})]})]})})}export{Me as CheckoutPage};
