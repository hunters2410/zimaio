const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DO0RgZ49.js","assets/index-Dk3sykNG.css"])))=>i.map(i=>d[i]);
import{r,b as N,c as w,u as _,j as e,L as o,P as S,_ as h}from"./index-DO0RgZ49.js";function E(){const[i,p]=r.useState(""),[c,f]=r.useState(""),[l,d]=r.useState(""),[m,u]=r.useState(!1),{signIn:y}=N(),{settings:x}=w(),t=_(),j=async s=>{s.preventDefault(),d(""),u(!0);const{error:g}=await y(i,c);if(g)d(g.message),u(!1);else{const{data:{user:b}}=await h(()=>import("./index-DO0RgZ49.js").then(a=>a.G),__vite__mapDeps([0,1])).then(a=>a.supabase.auth.getUser());if(b){const{data:a}=await h(async()=>{const{data:n}=await import("./index-DO0RgZ49.js").then(v=>v.G);return{data:n}},__vite__mapDeps([0,1])).then(n=>n.supabase.from("profiles").select("role").eq("id",b.id).single());if(a){switch(a.role){case"admin":t("/admin/dashboard");break;case"vendor":t("/vendor/dashboard");break;case"customer":t("/customer/dashboard");break;case"logistic":t("/logistic/dashboard");break;default:t("/")}return}}t("/")}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cyan-50 to-green-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("img",{src:x.site_logo,alt:x.site_name,className:"h-12 w-auto object-contain",onError:s=>{s.currentTarget.src="/zimaio_mineral_edition,_no_background_v1.2.png"}})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),e.jsx("p",{className:"text-gray-600",children:"Sign in to your ZimAIO account"})]}),l&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm",children:l}),e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",value:i,onChange:s=>p(s.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",placeholder:"you@example.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsx("input",{type:"password",value:c,onChange:s=>f(s.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",placeholder:"••••••••",required:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-cyan-600 focus:ring-cyan-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Remember me"})]}),e.jsx(o,{to:"/forgot-password",className:"text-sm text-cyan-600 hover:text-cyan-700",children:"Forgot password?"})]}),e.jsx("button",{type:"submit",disabled:m,className:"w-full py-2 bg-gradient-to-r from-cyan-600 to-green-600 text-white rounded-lg font-semibold hover:from-cyan-700 hover:to-green-700 transition disabled:opacity-50",children:m?"Signing in...":"Sign In"})]}),e.jsxs("div",{className:"mt-6 text-center space-y-4",children:[e.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",e.jsx(o,{to:"/signup",className:"text-cyan-600 hover:text-cyan-700 font-semibold",children:"Sign up"})]}),e.jsx("div",{className:"pt-4 border-t border-gray-100",children:e.jsxs(o,{to:"/logistic-signup",className:"text-sm text-green-600 hover:text-green-700 font-bold flex items-center justify-center gap-2",children:[e.jsx(S,{className:"h-4 w-4"})," Sign Up As Logistic"]})})]})]})})}export{E as LoginPage};
