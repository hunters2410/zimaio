import{u as O,a as H,b as V,r as s,j as e,L as r,A as c,S as y,c as B,H as L,d as W,X as Z,s as n}from"./index-T9wcIP7k.js";import{S as _}from"./star-Fc9uE4lG.js";import{S as u}from"./shopping-bag-BM34hV8d.js";function M(){const S=O(),{addToCart:A}=H(),{isInWishlist:p,toggleWishlist:C}=V(),[z,F]=s.useState([]),[P,$]=s.useState([]),[I,E]=s.useState([]),[b,D]=s.useState([]),[o,R]=s.useState([]),[d,g]=s.useState(null),[h,q]=s.useState(!0),[f,v]=s.useState(0);s.useEffect(()=>{if(o.length===0)return;const t=setInterval(()=>{v(a=>(a+1)%o.length)},5e3);return()=>clearInterval(t)},[o.length]),s.useEffect(()=>{(async()=>{try{const[a,l,j,x,N]=await Promise.all([n.from("products").select("*, category:categories(slug)").eq("is_active",!0).limit(8),n.from("categories").select("*").eq("is_active",!0).limit(6),n.from("vendor_profiles").select("*").limit(6),n.from("vendor_ads").select("*").eq("status","active").lte("start_date",new Date().toISOString()).gte("end_date",new Date().toISOString()),n.from("home_slides").select("*").eq("is_active",!0).order("sort_order",{ascending:!0})]);if(a.data&&F(a.data),l.data&&$(l.data),j.data&&E(j.data),N.data&&R(N.data),x.data){D(x.data);const m=x.data.find(i=>i.ad_type==="popup");m&&(sessionStorage.getItem(`shown_popup_${m.id}`)||(g(m),sessionStorage.setItem(`shown_popup_${m.id}`,"true")));const k=x.data.map(i=>i.id);k.length>0&&n.rpc("increment_ad_impressions",{ad_ids:k}).then(({error:i})=>{i&&console.error("Error recording impressions:",i)})}}catch(a){console.error("HomePage data fetch error:",a)}finally{q(!1)}})()},[]);const w=async t=>{await n.rpc("increment_ad_clicks",{ad_id:t})};return e.jsxs("div",{className:"min-h-screen transition-colors duration-300 dark:bg-slate-900",children:[o.length>0&&e.jsxs("section",{className:"relative h-[350px] md:h-[400px] lg:h-[450px] overflow-hidden",children:[o.map((t,a)=>e.jsxs("div",{className:`absolute inset-0 transition-all duration-1000 ease-in-out ${a===f?"opacity-100 scale-100":"opacity-0 scale-105 pointer-events-none"}`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 via-black/40 to-transparent z-10"}),e.jsx("img",{src:t.image_url,alt:t.title,loading:a===0?"eager":"lazy",className:"w-full h-full object-cover"}),e.jsxs("div",{className:"absolute inset-x-0 inset-y-0 z-20 flex flex-col items-center justify-center text-center px-4 md:px-20 max-w-5xl mx-auto animate-in fade-in zoom-in-95 duration-1000",children:[e.jsx("span",{className:"inline-block px-3 py-1 bg-white/20 backdrop-blur-md border border-white/30 text-white text-[9px] font-bold uppercase tracking-[0.3em] rounded-full mb-4 shadow-lg",children:"New Collections"}),e.jsx("h2",{className:"text-4xl md:text-5xl lg:text-6xl font-black text-white leading-tight uppercase tracking-tight mb-4 drop-shadow-2xl",children:t.title}),e.jsx("p",{className:"text-base md:text-lg text-white/90 font-medium mb-8 max-w-2xl leading-relaxed drop-shadow-md",children:t.subtitle}),e.jsxs(r,{to:t.link_url,className:"px-8 py-3 bg-white text-gray-900 rounded-full font-bold uppercase tracking-widest text-xs hover:bg-green-50 transition-all flex items-center gap-2 shadow-xl hover:scale-105 active:scale-95 group",children:[t.button_text," ",e.jsx(c,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]},t.id)),e.jsx("div",{className:"absolute bottom-10 left-1/2 -translate-x-1/2 z-30 flex gap-3",children:o.map((t,a)=>e.jsx("button",{onClick:()=>v(a),className:`h-1.5 rounded-full transition-all duration-500 ${a===f?"w-12 bg-white":"w-4 bg-white/30 hover:bg-white/50"}`},a))})]}),e.jsx("section",{className:"py-24 bg-[#FAFAFA] dark:bg-slate-900 transition-colors duration-300",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4 mb-12 animate-fade-in-up",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-4xl font-extrabold text-gray-900 dark:text-white mb-2 tracking-tight",children:"Vendors"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium tracking-tight",children:"Verified professional sellers you can trust"})]}),e.jsxs(r,{to:"/vendors",className:"text-green-600 font-bold flex items-center group",children:["Explore All Shops",e.jsx(c,{className:"ml-2 h-5 w-5 transition-transform group-hover:translate-x-1"})]})]}),h?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:[...Array(5)].map((t,a)=>e.jsx("div",{className:"bg-gray-100 rounded-2xl h-64 animate-pulse"},a))}):e.jsx("div",{className:"flex overflow-x-auto snap-x snap-mandatory md:grid md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-4 pb-4 md:pb-0 scrollbar-hide animate-fade-in-up-delay-1",children:I.map(t=>e.jsxs(r,{to:`/shop/${t.user_id}`,className:"min-w-[280px] md:min-w-0 snap-center group bg-white dark:bg-slate-800 rounded-2xl overflow-hidden border border-gray-100 dark:border-slate-700 shadow-sm hover:shadow-lg hover:shadow-emerald-900/5 transition-all duration-500 hover:-translate-y-1 flex flex-col",children:[e.jsxs("div",{className:"h-24 bg-gray-100 dark:bg-slate-700 relative overflow-hidden",children:[t.shop_banner_url?e.jsx("img",{src:t.shop_banner_url,loading:"lazy",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700",alt:t.shop_name}):e.jsx("div",{className:"w-full h-full bg-emerald-50 dark:bg-emerald-900/20 flex items-center justify-center",children:e.jsx(y,{className:"w-8 h-8 text-emerald-200 dark:text-emerald-800"})}),t.is_verified&&e.jsxs("div",{className:"absolute top-2 right-2 bg-white/90 dark:bg-slate-800/90 backdrop-blur-md px-1.5 py-0.5 rounded-full flex items-center gap-1 shadow-lg",children:[e.jsx(B,{className:"w-2.5 h-2.5 text-emerald-500"}),e.jsx("span",{className:"text-[7px] font-black text-emerald-900 dark:text-emerald-400 uppercase tracking-widest",children:"Verified"})]})]}),e.jsxs("div",{className:"p-4 pt-0 relative flex-grow flex flex-col text-left",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white dark:bg-slate-700 p-1 rounded-xl shadow-lg -mt-6 relative z-10 border border-gray-50 dark:border-slate-600 flex items-center justify-center overflow-hidden transition-transform group-hover:rotate-3",children:t.shop_logo_url?e.jsx("img",{src:t.shop_logo_url,loading:"lazy",className:"w-full h-full object-cover rounded-lg",alt:""}):e.jsx(y,{className:"w-5 h-5 text-emerald-500"})}),e.jsxs("div",{className:"mt-2 flex-1 min-w-0",children:[e.jsx("h3",{className:"text-xs font-black text-gray-900 dark:text-white leading-none group-hover:text-emerald-600 transition-colors uppercase tracking-tight truncate",children:t.shop_name}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(_,{className:"w-2 h-2 text-yellow-500 fill-yellow-500"}),e.jsx("span",{className:"text-[8px] font-black text-gray-400 dark:text-gray-500",children:(t.rating||5).toFixed(1)})]})]})]}),e.jsx("p",{className:"mt-2 text-gray-500 dark:text-gray-400 text-[10px] font-medium line-clamp-2 leading-relaxed opacity-80",children:t.shop_description||"Premium marketplace vendor offering quality goods."})]})]},t.id))})]})}),e.jsx("section",{className:"py-20 bg-[#FAFAFA] dark:bg-slate-900 transition-colors duration-300",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4 mb-8 animate-fade-in-up",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 dark:text-white mb-1 tracking-tight",children:"Featured Products"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium tracking-tight",children:"Handpicked premium items for you"})]}),e.jsxs(r,{to:"/products",className:"text-blue-600 text-sm font-bold flex items-center group",children:["View Collection",e.jsx(c,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]})]}),h?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 xl:grid-cols-6 gap-3 md:gap-4",children:[...Array(8)].map((t,a)=>e.jsx("div",{className:"bg-gray-100 rounded-2xl h-48 md:h-64 animate-pulse"},a))}):e.jsx("div",{className:"flex overflow-x-auto snap-x snap-mandatory md:grid md:grid-cols-3 lg:grid-cols-5 xl:grid-cols-6 gap-3 md:gap-4 pb-4 md:pb-0 scrollbar-hide animate-fade-in-up-delay-2",children:z.map(t=>e.jsxs("div",{className:"min-w-[160px] md:min-w-0 snap-center premium-card group bg-white dark:bg-slate-800 rounded-xl md:rounded-2xl overflow-hidden border border-gray-100 dark:border-slate-700 shadow-sm hover:shadow-lg transition-all duration-300 relative",children:[e.jsx(r,{to:`/products/${t.slug}`,className:"block",children:e.jsxs("div",{className:"h-40 md:h-48 bg-gray-100 dark:bg-slate-700 overflow-hidden relative group-hover:bg-gray-50 dark:group-hover:bg-slate-600 transition-colors",children:[t.images&&t.images[0]?e.jsx("img",{src:t.images[0],alt:t.name,className:"w-full h-full object-cover transition duration-700 group-hover:scale-105",loading:"lazy"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-50 dark:bg-slate-700 text-gray-200 dark:text-slate-600",children:e.jsx(u,{className:"h-12 w-12"})}),t.is_featured&&e.jsx("div",{className:"absolute top-2 left-2 py-1 px-2.5 bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm rounded-full text-[9px] font-bold uppercase tracking-wider text-gray-900 dark:text-white shadow-sm z-10",children:"Featured"}),e.jsx("button",{onClick:a=>{a.preventDefault(),a.stopPropagation(),C(t.id)},className:`absolute top-2 right-2 p-2 rounded-full backdrop-blur-md transition-all z-10 ${p(t.id)?"bg-rose-500 text-white shadow-lg":"bg-white/80 dark:bg-slate-800/80 text-gray-400 hover:text-rose-500 border border-gray-100 dark:border-slate-700"}`,children:e.jsx(L,{className:`w-3.5 h-3.5 ${p(t.id)?"fill-current":""}`})})]})}),e.jsxs("div",{className:"p-3 md:p-4 flex flex-col gap-2",children:[e.jsx(r,{to:`/products/${t.slug}`,children:e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-xs md:text-sm mb-1 line-clamp-2 leading-relaxed hover:text-blue-600 transition-colors tracking-tight",children:t.name})}),e.jsxs("div",{className:"flex items-end justify-between mt-1",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[10px] font-medium text-gray-400 dark:text-gray-500",children:"Price"}),e.jsxs("span",{className:"text-sm md:text-lg font-extrabold text-blue-600 dark:text-blue-400 font-sans",children:["$",t.base_price.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[e.jsx(_,{className:"h-3 w-3 text-yellow-500 fill-current"}),e.jsx("span",{className:"text-xs font-bold text-gray-600 dark:text-gray-400",children:"4.8"})]})]}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("button",{onClick:a=>{var l;a.preventDefault(),a.stopPropagation(),A({id:t.id,name:t.name,price:t.base_price,image:((l=t.images)==null?void 0:l[0])||"",vendor_id:t.vendor_id,vendor:"ZimAIO Vendor",base_price:t.base_price,quantity:1})},className:"flex-1 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-[10px] font-bold uppercase tracking-widest transition-all duration-300 flex items-center justify-center gap-2 active:scale-95",title:"Add to Cart",children:e.jsx(u,{className:"w-4 h-4"})}),e.jsx("button",{onClick:a=>{var l;a.preventDefault(),a.stopPropagation(),(l=t.category)!=null&&l.slug&&S(`/products?category=${t.category.slug}`)},className:"py-2 px-3 bg-gray-100 dark:bg-slate-700 hover:bg-blue-600 dark:hover:bg-blue-500 hover:text-white text-gray-600 dark:text-gray-300 rounded-lg transition-all duration-300 flex items-center justify-center active:scale-95",title:"Find Similar",children:e.jsx(W,{className:"w-3 h-3"})})]})]})]},t.id))})]})}),b.find(t=>t.ad_type==="featured")&&e.jsx("section",{className:"py-12 bg-white dark:bg-slate-900 transition-colors duration-300",children:e.jsx("div",{className:"container mx-auto px-4",children:b.filter(t=>t.ad_type==="featured").slice(0,1).map(t=>e.jsx("a",{href:t.link_url,target:"_blank",rel:"noopener noreferrer",onClick:()=>w(t.id),className:"block relative rounded-[2rem] overflow-hidden group shadow-2xl hover:shadow-purple-900/20 transition-all duration-700",children:e.jsxs("div",{className:"aspect-[21/9] md:aspect-[25/7] relative",children:[e.jsx("img",{src:t.image_url,alt:t.title,loading:"lazy",className:"w-full h-full object-cover transition-transform duration-1000 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/60 via-black/20 to-transparent flex items-center p-8 md:p-16",children:e.jsxs("div",{className:"max-w-xl text-white",children:[e.jsx("span",{className:"inline-block px-4 py-1 rounded-full bg-purple-600 text-[10px] font-black uppercase tracking-[0.2em] mb-4 shadow-lg animate-pulse",children:"Special Offer"}),e.jsx("h2",{className:"text-3xl md:text-5xl font-black mb-6 leading-tight drop-shadow-lg",children:t.title}),e.jsx("button",{className:"bg-white text-gray-900 px-8 py-3 rounded-xl font-black uppercase tracking-widest text-xs hover:bg-purple-600 hover:text-white transition-all shadow-xl active:scale-95",children:"Discover More"})]})})]})},t.id))})}),e.jsx("section",{className:"py-24 bg-white dark:bg-slate-900 transition-colors duration-300",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4 mb-12",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-4xl font-extrabold text-gray-900 dark:text-white mb-2 tracking-tight",children:"Curated Categories"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium tracking-tight",children:"Browse by your areas of interest"})]}),e.jsxs(r,{to:"/categories",className:"text-green-600 font-bold flex items-center group",children:["Browse All",e.jsx(c,{className:"ml-2 h-5 w-5 transition-transform group-hover:translate-x-1"})]})]}),h?e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-6 gap-6",children:[...Array(6)].map((t,a)=>e.jsx("div",{className:"bg-gray-100 rounded-3xl h-40 animate-pulse"},a))}):e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-6 gap-6 animate-fade-in-up-delay-3",children:P.map(t=>e.jsxs(r,{to:`/products?category=${t.slug}`,className:"bg-gray-50 dark:bg-slate-800 rounded-3xl p-8 hover:bg-green-600 dark:hover:bg-green-600 group transition-all duration-500 text-center hover:shadow-2xl hover:shadow-green-900/40",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-6 bg-white dark:bg-slate-700 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:e.jsx(u,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),e.jsx("h3",{className:"font-bold text-gray-600 dark:text-gray-300 group-hover:text-white transition-colors text-sm uppercase tracking-widest",children:t.name})]},t.id))})]})}),e.jsxs("section",{className:"py-24 bg-gray-900 dark:bg-slate-950 text-white relative overflow-hidden transition-colors duration-300",children:[e.jsx("div",{className:"absolute top-0 right-0 -mt-24 -mr-24 w-96 h-96 bg-green-500/20 blur-[100px] rounded-full"}),e.jsx("div",{className:"absolute bottom-0 left-0 -mb-24 -ml-24 w-96 h-96 bg-green-500/10 blur-[100px] rounded-full"}),e.jsxs("div",{className:"container mx-auto px-4 text-center relative z-10",children:[e.jsxs("h2",{className:"text-4xl md:text-5xl font-extrabold mb-6 leading-tight",children:["Empower Your Business ",e.jsx("br",{})," with ZimAIO."]}),e.jsx("p",{className:"text-lg mb-12 text-gray-400 max-w-2xl mx-auto leading-relaxed",children:"Join ZimAIO's curated ecosystem. Reach meaningful customers and scale your shop with professional tools."}),e.jsxs(r,{to:"/vendor-signup",className:"premium-button bg-green-600 text-white hover:bg-green-700 shadow-2xl shadow-green-900/40 inline-flex",children:["Open Your Shop Today",e.jsx(c,{className:"ml-2 h-5 w-5"})]})]})]}),d&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-300",children:e.jsxs("div",{className:"relative max-w-lg w-full bg-white dark:bg-slate-800 rounded-[2.5rem] overflow-hidden shadow-2xl animate-in zoom-in-95 duration-500 delay-200 border border-gray-100 dark:border-slate-700",children:[e.jsx("button",{onClick:()=>g(null),className:"absolute top-4 right-4 z-20 p-2 bg-black/20 hover:bg-black/40 text-white rounded-full transition-all",children:e.jsx(Z,{className:"w-6 h-6"})}),e.jsx("a",{href:d.link_url,target:"_blank",rel:"noopener noreferrer",onClick:()=>{w(d.id),g(null)},className:"block group",children:e.jsxs("div",{className:"aspect-square relative overflow-hidden",children:[e.jsx("img",{src:d.image_url,alt:d.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),e.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent flex flex-col justify-end p-8",children:[e.jsx("span",{className:"inline-block self-start px-3 py-1 bg-green-500 text-white text-[8px] font-black uppercase tracking-widest rounded-full mb-4",children:"Limited Event"}),e.jsx("h3",{className:"text-3xl font-black text-white mb-4 leading-tight uppercase tracking-tight",children:d.title}),e.jsxs("div",{className:"flex items-center gap-2 text-white/80 font-bold uppercase tracking-widest text-[10px]",children:["Explore Now ",e.jsx(c,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]})})]})})]})}export{M as HomePage};
