import{n as je,e as te,f as Ne,V as ae,u as le,r as i,j as e,L as we,z as ve,d as ke,G as ye,U as re,I as _e,P as ie,s as x,h as Se,p as Y,X as B}from"./index-T9wcIP7k.js";import{C as Ce,S as De}from"./settings-CBK8R_-F.js";import{C as Pe}from"./chevron-right-DQGX3U4F.js";import{B as ne}from"./bell-B6qorZ8L.js";import{U as $e}from"./users-CYjWSRo-.js";import{Z as Ae}from"./zap-_oUAMe_n.js";import{T as Z}from"./truck-CI4bnO7s.js";import{L as G}from"./layout-grid-CqtneesC.js";import{P as H}from"./plus-B2DFtXvD.js";import{W as ee}from"./wallet-C7uK7jSh.js";import{C as Fe}from"./circle-check-big-BYTb-izI.js";import{S as E}from"./square-pen-ryj9D0Al.js";import{T as O}from"./trash-2-RCUSiwrv.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],W=je("layout-list",qe),se=[{path:"/logistic/dashboard",label:"Overview",icon:e.jsx(_e,{className:"h-5 w-5"}),section:"Main"},{path:"/logistic/fleet",label:"Fleet Registry",icon:e.jsx($e,{className:"h-5 w-5"}),section:"Operations"},{path:"/logistic/shipping",label:"Shipping Rates",icon:e.jsx(Ae,{className:"h-5 w-5"}),section:"Operations"},{path:"/logistic/orders",label:"Delivery Requests",icon:e.jsx(ie,{className:"h-5 w-5"}),section:"Operations"},{path:"/logistic/profile",label:"Company Profile",icon:e.jsx(re,{className:"h-5 w-5"}),section:"Settings"},{path:"/logistic/notifications",label:"System Notifications",icon:e.jsx(ne,{className:"h-5 w-5"}),section:"Settings"},{path:"/logistic/settings",label:"System Settings",icon:e.jsx(De,{className:"h-5 w-5"}),section:"Settings"}];function Le({children:n}){const{user:_,profile:c,signOut:T}=te(),{settings:F}=Ne(),q=ae(),w=le(),[b,L]=i.useState(!0),[S,C]=i.useState(!1),[V,v]=i.useState("Carrier Partner");i.useEffect(()=>{(async()=>{if(_){const{data:d}=await x.from("logistics_profiles").select("company_name").eq("user_id",_.id).single();d!=null&&d.company_name&&v(d.company_name)}})()},[_]);const U=async()=>{await T(),w("/login")},k=Array.from(new Set(se.map(h=>h.section)));return e.jsxs("div",{className:"min-h-screen bg-white text-slate-900 flex font-sans transition-colors duration-300",children:[e.jsxs("aside",{className:`fixed inset-y-0 left-0 z-50 transition-all duration-500 ease-in-out transform 
                ${b?"w-72":"w-20"} 
                ${S?"translate-x-0":"-translate-x-full lg:translate-x-0"}
                bg-white border-slate-200 
                border-r shadow-2xl overflow-hidden flex flex-col`,children:[e.jsx("div",{className:"p-6 flex items-center justify-between",children:e.jsx("div",{className:"flex items-center gap-3 overflow-hidden",children:e.jsx("div",{className:`flex-shrink-0 transition-all duration-500 ${b?"w-full px-2":"w-10 h-10"} flex items-center justify-center`,children:e.jsx("img",{src:F.site_logo,alt:F.site_name,className:`${b?"h-10":"h-8"} w-auto object-contain`,onError:h=>{h.currentTarget.src="/zimaio_mineral_edition,_no_background_v1.2.png"}})})})}),e.jsx("nav",{className:"flex-1 px-4 py-6 overflow-y-auto space-y-8 custom-scrollbar",children:k.map(h=>e.jsxs("div",{className:"space-y-2",children:[b&&e.jsx("p",{className:"px-4 text-[10px] font-black text-slate-900 uppercase tracking-[0.2em] mb-4 opacity-80",children:h}),e.jsx("div",{className:"space-y-1",children:se.filter(d=>d.section===h).map(d=>{const M=q.pathname===d.path;return e.jsxs(we,{to:d.path,className:`flex items-center gap-3 px-4 py-3.5 rounded-2xl transition-all duration-300 group ${M?"bg-emerald-600 text-white shadow-xl shadow-emerald-500/20 scale-[1.02]":"text-slate-900 hover:bg-slate-100 hover:text-emerald-500"}`,children:[e.jsx("div",{className:`${M?"text-white":"group-hover:text-emerald-500"} transition-colors duration-300`,children:d.icon}),b&&e.jsx("span",{className:"font-bold text-sm tracking-tight",children:d.label})]},d.path)})})]},h))}),e.jsx("div",{className:"p-4 border-t border-slate-200",children:e.jsx("div",{className:"p-4 rounded-3xl bg-slate-50 transition-all",children:b&&e.jsx("div",{className:"space-y-3 animate-in fade-in slide-in-from-bottom-2 duration-500",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),e.jsx("span",{className:"text-[10px] font-black text-slate-700 font-black uppercase tracking-widest",children:"System Online"})]})})})})]}),e.jsxs("div",{className:`flex-1 flex flex-col transition-all duration-500 ease-in-out ${b?"lg:pl-72":"lg:pl-20"}`,children:[e.jsx("header",{className:"sticky top-0 z-40 backdrop-blur-xl border-b transition-colors duration-300 bg-white/80 border-slate-200",children:e.jsxs("div",{className:"h-20 px-8 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("button",{onClick:()=>L(!b),className:"hidden lg:flex p-2.5 rounded-xl border transition-all border-slate-300 hover:bg-slate-100 text-slate-700",children:b?e.jsx(Ce,{className:"h-5 w-5"}):e.jsx(Pe,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>C(!S),className:"lg:hidden p-2.5 rounded-xl border transition-all border-slate-300 text-slate-700",children:e.jsx(ve,{className:"h-5 w-5"})}),e.jsxs("div",{className:"hidden md:flex items-center relative group",children:[e.jsx(ke,{className:"absolute left-4 h-4 w-4 text-slate-400 group-focus-within:text-emerald-500 transition-colors"}),e.jsx("input",{type:"text",placeholder:"Global Logistics Search...",className:"pl-11 pr-6 py-2.5 rounded-xl text-sm font-bold border outline-none transition-all w-72 focus:w-96 bg-white border-slate-300 focus:border-emerald-500 text-slate-900 placeholder:text-slate-600"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:U,className:"p-3 rounded-xl border border-slate-200 hover:bg-rose-50 text-slate-600 hover:text-rose-500 transition-all",title:"Sign Out",children:e.jsx(ye,{className:"h-5 w-5"})}),e.jsxs("button",{className:"p-3 rounded-xl border relative transition-all border-slate-200 hover:bg-slate-100 text-slate-600",children:[e.jsx(ne,{className:"h-5 w-5"}),e.jsx("span",{className:"absolute top-2.5 right-2.5 w-2 h-2 bg-emerald-500 rounded-full border-2 border-white"})]}),e.jsx("div",{className:"h-10 w-px bg-slate-200 mx-2 hidden sm:block"}),e.jsxs("div",{onClick:()=>w("/logistic/profile"),className:"flex items-center gap-4 group cursor-pointer p-1 rounded-2xl hover:bg-slate-100 transition-all px-3",children:[e.jsxs("div",{className:"text-right hidden sm:block",children:[e.jsx("p",{className:"text-sm font-black tracking-tight text-slate-900",children:V}),e.jsx("p",{className:"text-[10px] font-black text-emerald-500 uppercase tracking-widest",children:(c==null?void 0:c.role)||"Logistics"})]}),e.jsx("div",{className:"w-11 h-11 bg-gradient-to-tr from-emerald-500 to-emerald-600 rounded-xl flex items-center justify-center text-white font-black shadow-lg shadow-emerald-500/20",children:V.charAt(0)||e.jsx(re,{className:"h-6 w-6"})})]})]})]})}),e.jsx("main",{className:"flex-1 p-8 overflow-y-auto",children:n})]}),S&&e.jsx("div",{className:"fixed inset-0 bg-slate-950/60 backdrop-blur-md z-40 lg:hidden animate-in fade-in duration-300",onClick:()=>C(!1)})]})}function Xe(){const{user:n}=te(),{formatPrice:_}=Se(),[c,T]=i.useState(null),[F,q]=i.useState(!0),[w,b]=i.useState([]),[L,S]=i.useState([]),[C,V]=i.useState([]),[v,U]=i.useState([]),[k,h]=i.useState({total_deliveries:0,active_drivers:0,total_earned:0,success_rate:98.5}),[d,M]=i.useState([]),[u,D]=i.useState({title:"",message:"",type:"info",target:"all"}),[ce,P]=i.useState(!1),[oe,$]=i.useState(!1),[X,J]=i.useState(!1),[de,A]=i.useState(!1),[m,z]=i.useState(null),[o,R]=i.useState(null),[g,I]=i.useState(null),[f,y]=i.useState("list"),xe=ae(),K=le();i.useEffect(()=>{n!=null&&n.id&&N()},[n==null?void 0:n.id]);const p=(()=>{const s=xe.pathname;return s.includes("/fleet")?"fleet":s.includes("/shipping")?"shipping":s.includes("/zones")?"zones":s.includes("/orders")?"orders":s.includes("/profile")?"profile":s.includes("/settings")?"settings":s.includes("/notifications")?"notifications":"overview"})(),N=async()=>{q(!0);try{const{data:s,error:t}=await x.from("logistics_profiles").select("*").eq("user_id",n==null?void 0:n.id).single();if(t)throw t;if(T(s),s){const{data:r}=await x.from("delivery_drivers").select("*").eq("logistics_id",s.id);b(r||[]);const{data:a}=await x.from("shipping_methods").select("*").eq("logistics_id",s.id);S(a||[]);const{data:l}=await x.from("shipping_zones").select("*").eq("logistics_id",s.id);V(l||[]);const{data:j}=await x.from("deliveries").select("*, driver:delivery_drivers(driver_name)").eq("logistics_id",s.id).order("created_at",{ascending:!1});U(j||[]),h({total_deliveries:(j==null?void 0:j.length)||0,active_drivers:(r==null?void 0:r.filter(fe=>fe.is_available).length)||0,total_earned:0,success_rate:0})}}catch(s){console.error("Error fetching logistics data:",s)}finally{q(!1)}},me=async()=>{var s;if(n){J(!0);try{const{error:t}=await x.from("logistics_profiles").insert({user_id:n.id,company_name:((s=n.user_metadata)==null?void 0:s.full_name)+" Logistics"||"New Logistics Company",business_email:n.email||"",is_active:!0});if(t)throw t;await N()}catch(t){alert(`Profile initialization failed: ${t.message}`)}finally{J(!1)}}},pe=async s=>{s.preventDefault();const t={id:Date.now().toString(),...u,created_at:new Date().toISOString(),status:"sent"};M([t,...d]),D({title:"",message:"",type:"info",target:"all"}),alert("System Alert Broadcasted Successfully")},be=async s=>{s.preventDefault();const t=new FormData(s.target),r=t.get("new_password"),a=t.get("confirm_password");if(r!==a){alert("Security Error: Passwords do not match");return}try{const{error:l}=await x.auth.updateUser({password:r});if(l)throw l;alert("Security Protocol Updated: Password changed successfully"),s.target.reset()}catch(l){alert(`Update Failed: ${l.message}`)}},he=async s=>{if(s.preventDefault(),!c)return;const t=new FormData(s.target),r={logistics_id:c.id,driver_name:t.get("driver_name"),phone_number:t.get("phone_number"),vehicle_type:t.get("vehicle_type"),vehicle_number:t.get("vehicle_number")};try{let a;if(m){const{error:l}=await x.from("delivery_drivers").update(r).eq("id",m.id);a=l}else{const{error:l}=await x.from("delivery_drivers").insert(r);a=l}if(a)throw a;P(!1),z(null),N()}catch(a){alert(`Failed to save driver: ${a.message}`)}},ue=async s=>{if(s.preventDefault(),!c)return;const t=new FormData(s.target),r={logistics_id:c.id,name:t.get("display_name").toLowerCase().replace(/\s+/g,"_"),display_name:t.get("display_name"),description:t.get("description"),base_cost:parseFloat(t.get("base_cost")),delivery_time_min:parseInt(t.get("delivery_time_min")),delivery_time_max:parseInt(t.get("delivery_time_max")),is_active:!0,is_global:!1};try{let a;if(o){const{error:l}=await x.from("shipping_methods").update(r).eq("id",o.id);a=l}else{const{error:l}=await x.from("shipping_methods").insert(r);a=l}if(a)throw a;$(!1),R(null),N()}catch(a){alert(`Failed to save shipping method: ${a.message}`)}},ge=async s=>{if(s.preventDefault(),!c)return;const t=new FormData(s.target),r=t.get("regions"),a={logistics_id:c.id,name:t.get("name"),regions:r.split(",").map(l=>l.trim()).filter(l=>l!==""),is_active:!0,base_rate:0};try{let l;if(g){const{error:j}=await x.from("shipping_zones").update(a).eq("id",g.id);l=j}else{const{error:j}=await x.from("shipping_zones").insert(a);l=j}if(l)throw l;A(!1),I(null),N()}catch(l){alert(`Failed to save zone: ${l.message}`)}},Q=async s=>{if(confirm("Are you sure you want to delete this zone?"))try{const{error:t}=await x.from("shipping_zones").delete().eq("id",s);if(t)throw t;N()}catch(t){alert(`Error deleting zone: ${t.message}`)}};return F?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#F8FAFC]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"})}):c?e.jsxs(Le,{children:[e.jsxs("div",{className:"max-w-7xl mx-auto w-full space-y-8 pb-20 px-4 sm:px-6 lg:px-8",children:[e.jsxs("header",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-6 transition-all",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-black text-black tracking-tighter capitalize",children:p==="fleet"?"Fleet Management":p==="shipping"?"Shipping Rates":p==="zones"?"Delivery Zones":p}),e.jsxs("p",{className:"text-black text-[10px] font-bold uppercase tracking-widest leading-none mt-2 flex items-center gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),"Carrier Hub: ",e.jsx("strong",{className:"text-black",children:c.company_name})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[p==="fleet"&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 p-1 rounded-lg border border-slate-200",children:[e.jsx("button",{onClick:()=>y("grid"),className:`p-1.5 rounded-md transition-all ${f==="grid"?"bg-white shadow text-emerald-600":"text-slate-400 hover:text-slate-600"}`,children:e.jsx(G,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>y("list"),className:`p-1.5 rounded-md transition-all ${f==="list"?"bg-white shadow text-emerald-600":"text-slate-400 hover:text-slate-600"}`,children:e.jsx(W,{className:"h-4 w-4"})})]}),e.jsxs("button",{onClick:()=>{z(null),P(!0)},className:"flex items-center gap-1.5 px-3 py-1.5 bg-emerald-600 text-white rounded-lg font-bold text-[10px] hover:bg-emerald-700 transition-all shadow-sm uppercase tracking-widest",children:[e.jsx(H,{className:"h-3 w-3"})," Registration"]})]}),p==="shipping"&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 p-1 rounded-lg border border-slate-200",children:[e.jsx("button",{onClick:()=>y("grid"),className:`p-1.5 rounded-md transition-all ${f==="grid"?"bg-white shadow text-emerald-600":"text-slate-400 hover:text-slate-600"}`,children:e.jsx(G,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>y("list"),className:`p-1.5 rounded-md transition-all ${f==="list"?"bg-white shadow text-emerald-600":"text-slate-400 hover:text-slate-600"}`,children:e.jsx(W,{className:"h-4 w-4"})})]}),e.jsxs("button",{onClick:()=>{R(null),$(!0)},className:"flex items-center gap-1.5 px-3 py-1.5 bg-emerald-600 text-white rounded-lg font-bold text-[10px] hover:bg-emerald-700 transition-all shadow-sm uppercase tracking-widest",children:[e.jsx(H,{className:"h-3 w-3"})," Create Rate"]})]}),p==="zones"&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 p-1 rounded-lg border border-slate-200",children:[e.jsx("button",{onClick:()=>y("grid"),className:`p-1.5 rounded-md transition-all ${f==="grid"?"bg-white shadow text-emerald-600":"text-slate-400 hover:text-slate-600"}`,children:e.jsx(G,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>y("list"),className:`p-1.5 rounded-md transition-all ${f==="list"?"bg-white shadow text-emerald-600":"text-slate-400 hover:text-slate-600"}`,children:e.jsx(W,{className:"h-4 w-4"})})]}),e.jsxs("button",{onClick:()=>{I(null),A(!0)},className:"flex items-center gap-1.5 px-3 py-1.5 bg-emerald-600 text-white rounded-lg font-bold text-[10px] hover:bg-emerald-700 transition-all shadow-sm uppercase tracking-widest",children:[e.jsx(H,{className:"h-3 w-3"})," Create Zone"]})]})]})]}),p==="overview"&&e.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-500",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Active Deliveries",value:k.total_deliveries,icon:ie,color:"text-indigo-500",bg:"bg-indigo-500/10",border:"border-indigo-500/20"},{label:"Fleet Personnel",value:k.active_drivers,icon:Z,color:"text-emerald-500",bg:"bg-emerald-500/10",border:"border-emerald-500/20"},{label:"Network Revenue",value:_(k.total_earned),icon:ee,color:"text-violet-500",bg:"bg-violet-500/10",border:"border-violet-500/20"},{label:"Delivery Success",value:`${k.success_rate}%`,icon:Fe,color:"text-amber-500",bg:"bg-amber-500/10",border:"border-amber-500/20"}].map((s,t)=>e.jsxs("div",{className:"bg-white p-5 rounded-sm border border-slate-200 hover:border-emerald-500 transition-all group",children:[e.jsx("div",{className:`w-10 h-10 ${s.bg} ${s.color} flex items-center justify-center mb-4`,children:e.jsx(s.icon,{className:"h-5 w-5"})}),e.jsx("p",{className:"text-[10px] font-black text-black uppercase tracking-widest mb-1",children:s.label}),e.jsx("h3",{className:"text-xl font-black text-black tracking-tighter",children:s.value})]},t))}),e.jsxs("div",{className:"bg-white rounded-sm border border-slate-200 shadow-sm overflow-hidden border-b-4 border-b-emerald-500",children:[e.jsxs("div",{className:"p-5 border-b border-slate-200 flex items-center justify-between bg-white",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-[10px] font-black text-black tracking-[0.2em] uppercase",children:"Telemetry Log"}),e.jsx("p",{className:"text-[8px] text-black mt-0.5 font-bold uppercase tracking-widest",children:"Real-time vector tracking"})]}),e.jsx("button",{onClick:()=>K("/logistic/orders"),className:"px-3 py-1 bg-white border border-emerald-600 text-emerald-600 hover:bg-emerald-600 hover:text-white rounded-none text-[9px] font-black uppercase tracking-widest transition-all",children:"View All"})]}),e.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:e.jsxs("table",{className:"w-full text-left min-w-[600px]",children:[e.jsx("thead",{className:"bg-slate-100/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 font-black text-black text-[9px]",children:"Registry ID"}),e.jsx("th",{className:"px-6 py-4 font-black text-black text-[9px]",children:"Vector End Point"}),e.jsx("th",{className:"px-6 py-4 font-black text-black text-[9px]",children:"Protocol Status"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:v.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"p-12 text-center text-black text-[10px] font-bold uppercase tracking-widest",children:"Awaiting signals from the field..."})}):v.slice(0,5).map(s=>e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[e.jsxs("td",{className:"px-6 py-4 font-mono font-black text-emerald-600 tracking-tighter text-xs",children:["#",s.tracking_number.toUpperCase()]}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-3 w-3 text-slate-400"}),e.jsx("span",{className:"font-bold text-black text-[10px]",children:s.delivery_address})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:`px-2 py-1 rounded-lg text-[8px] font-black uppercase tracking-widest inline-flex items-center gap-1.5 ${s.delivery_status==="delivered"?"bg-emerald-500/10 text-emerald-600":"bg-amber-500/10 text-amber-600"}`,children:[e.jsx("div",{className:`w-1 h-1 rounded-full ${s.delivery_status==="delivered"?"bg-emerald-500":"bg-amber-500"} animate-pulse`}),s.delivery_status]})})]},s.id))})]})})]})]}),p==="fleet"&&e.jsx(e.Fragment,{children:w.length===0?e.jsx("div",{className:"col-span-full py-20 text-center bg-white rounded-sm border border-dashed border-slate-200",children:e.jsx("p",{className:"text-[10px] font-black text-black",children:"No operators registered in the fleet"})}):f==="grid"?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 animate-in fade-in slide-in-from-bottom-2 duration-500",children:w.map(s=>e.jsxs("div",{className:"bg-white p-5 rounded-sm border border-slate-200 shadow-sm relative group overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("button",{onClick:()=>{z(s),P(!0)},className:"p-2 bg-slate-50 text-slate-400 hover:text-emerald-500 rounded-xl",children:e.jsx(E,{className:"h-4 w-4"})})}),e.jsx("div",{className:"w-12 h-12 bg-slate-100 text-slate-700 rounded-sm flex items-center justify-center font-black text-lg mb-4 shadow-sm border border-slate-200",children:s.driver_name.charAt(0)}),e.jsx("h3",{className:"text-sm font-black text-black tracking-tight leading-none mb-1",children:s.driver_name}),e.jsxs("p",{className:"text-[9px] font-black text-black uppercase tracking-widest mb-4 inline-flex items-center gap-2",children:[e.jsx("span",{className:"px-1.5 py-0.5 bg-slate-100 rounded",children:s.vehicle_type}),e.jsx("span",{children:"•"}),e.jsx("span",{className:"text-emerald-600 font-bold",children:s.vehicle_number})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-50",children:[e.jsx("span",{className:"text-[10px] font-bold text-black",children:s.phone_number}),e.jsx("span",{className:`px-2 py-1 rounded-lg text-[8px] font-black uppercase tracking-widest ${s.is_available?"bg-emerald-500/10 text-emerald-600":"bg-slate-100 text-slate-500"}`,children:s.is_available?"Active":"Transit"})]})]},s.id))}):e.jsx("div",{className:"bg-white rounded-sm border border-slate-200 shadow-sm overflow-hidden animate-in fade-in slide-in-from-bottom-2 duration-500",children:e.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 font-black text-black text-[9px] uppercase tracking-widest",children:"Driver Name"}),e.jsx("th",{className:"px-6 py-4 font-black text-black text-[9px] uppercase tracking-widest",children:"Vehicle"}),e.jsx("th",{className:"px-6 py-4 font-black text-black text-[9px] uppercase tracking-widest",children:"Contact"}),e.jsx("th",{className:"px-6 py-4 font-black text-black text-[9px] uppercase tracking-widest",children:"Status"}),e.jsx("th",{className:"px-6 py-4 font-black text-black text-[9px] uppercase tracking-widest text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:w.map(s=>e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-sm flex items-center justify-center font-black text-xs text-slate-700",children:s.driver_name.charAt(0)}),e.jsx("span",{className:"text-xs font-black text-black",children:s.driver_name})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs font-bold text-slate-900 capitalize",children:s.vehicle_type}),e.jsx("span",{className:"text-[10px] text-emerald-600 font-mono",children:s.vehicle_number})]})}),e.jsx("td",{className:"px-6 py-4 text-xs font-bold text-slate-600",children:s.phone_number}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-[8px] font-black uppercase tracking-widest ${s.is_available?"bg-emerald-500/10 text-emerald-600":"bg-slate-100 text-slate-500"}`,children:s.is_available?"Active":"Transit"})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx("button",{onClick:()=>{z(s),P(!0)},className:"p-2 text-slate-400 hover:text-emerald-500 transition-colors",children:e.jsx(E,{className:"h-4 w-4"})})})]},s.id))})]})})})}),p==="shipping"&&e.jsx(e.Fragment,{children:f==="grid"?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4 animate-in fade-in slide-in-from-bottom-2 duration-500",children:L.map(s=>e.jsxs("div",{className:"bg-white p-6 rounded-sm border border-slate-200 shadow-sm relative group hover:border-emerald-500/50 transition-all",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-sm font-black text-black tracking-tight",children:s.display_name}),e.jsx("span",{className:"text-[8px] font-black px-1.5 py-0.5 bg-emerald-500/10 text-emerald-600 rounded uppercase tracking-tighter",children:"Active Protocol"})]}),e.jsxs("p",{className:"text-[9px] text-slate-600",children:[s.delivery_time_min,"-",s.delivery_time_max," Days Window"]})]}),e.jsxs("div",{className:"flex items-baseline gap-1 mb-6",children:[e.jsx("span",{className:"text-xs font-bold text-slate-400",children:"$"}),e.jsx("span",{className:"text-3xl font-black text-black tracking-tighter leading-none",children:s.base_cost.toFixed(2)}),e.jsx("span",{className:"text-[9px] font-black text-black uppercase ml-2 tracking-widest",children:"Base Rate"})]}),e.jsxs("div",{className:"flex gap-2 pt-4 border-t border-slate-300",children:[e.jsx("button",{onClick:()=>{R(s),$(!0)},className:"flex-1 py-2 bg-emerald-600 text-white rounded-xl font-black text-[9px] uppercase tracking-widest transition-all hover:bg-emerald-700",children:"Update"}),e.jsx("button",{className:"px-3 py-2 bg-rose-500/10 text-rose-500 hover:bg-rose-500 hover:text-white rounded-xl transition-all border border-rose-500/20",children:e.jsx(O,{className:"h-4 w-4"})})]})]},s.id))}):e.jsx("div",{className:"bg-white rounded-sm border border-slate-200 shadow-sm overflow-hidden animate-in fade-in slide-in-from-bottom-2 duration-500",children:e.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 font-black text-black text-[9px] uppercase tracking-widest",children:"Method Name"}),e.jsx("th",{className:"px-6 py-4 font-black text-black text-[9px] uppercase tracking-widest",children:"Duration (Days)"}),e.jsx("th",{className:"px-6 py-4 font-black text-black text-[9px] uppercase tracking-widest",children:"Base Cost"}),e.jsx("th",{className:"px-6 py-4 font-black text-black text-[9px] uppercase tracking-widest",children:"Status"}),e.jsx("th",{className:"px-6 py-4 font-black text-black text-[9px] uppercase tracking-widest text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:L.map(s=>e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs font-black text-black",children:s.display_name}),e.jsx("span",{className:"text-[10px] text-slate-500 truncate max-w-[200px]",children:s.description})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"text-xs font-bold text-slate-700",children:[s.delivery_time_min,"-",s.delivery_time_max," Days"]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"text-xs font-black text-black",children:["$",s.base_cost.toFixed(2)]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"px-2 py-1 rounded text-[8px] font-black uppercase tracking-widest bg-emerald-500/10 text-emerald-600",children:"Active Protocol"})}),e.jsxs("td",{className:"px-6 py-4 text-right flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>{R(s),$(!0)},className:"p-2 text-slate-400 hover:text-emerald-500 transition-colors",children:e.jsx(E,{className:"h-4 w-4"})}),e.jsx("button",{className:"p-2 text-slate-400 hover:text-rose-500 transition-colors",children:e.jsx(O,{className:"h-4 w-4"})})]})]},s.id))})]})})})}),p==="zones"&&e.jsx(e.Fragment,{children:f==="grid"?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4 animate-in fade-in slide-in-from-bottom-2 duration-500",children:C.map(s=>e.jsxs("div",{className:"bg-white p-6 rounded-sm border border-slate-200 shadow-sm relative group hover:border-emerald-500/50 transition-all",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-sm font-black text-black tracking-tight",children:s.name}),e.jsx("span",{className:`text-[8px] font-black px-1.5 py-0.5 rounded uppercase tracking-tighter ${s.is_active?"bg-emerald-500/10 text-emerald-600":"bg-slate-100 text-slate-500"}`,children:s.is_active?"Active":"Inactive"})]}),e.jsxs("div",{className:"flex flex-wrap gap-1 h-12 overflow-hidden",children:[s.regions.map((t,r)=>e.jsx("span",{className:"text-[8px] px-1.5 py-0.5 bg-slate-100 rounded text-slate-500 font-bold",children:t},r)),s.regions.length===0&&e.jsx("span",{className:"text-[8px] text-slate-400 italic",children:"No regions assigned"})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4 border-t border-slate-300",children:[e.jsx("button",{onClick:()=>{I(s),A(!0)},className:"flex-1 py-2 bg-emerald-600 text-white rounded-xl font-black text-[9px] uppercase tracking-widest transition-all hover:bg-emerald-700",children:"Configure"}),e.jsx("button",{onClick:()=>Q(s.id),className:"px-3 py-2 bg-rose-500/10 text-rose-500 hover:bg-rose-500 hover:text-white rounded-xl transition-all border border-rose-500/20",children:e.jsx(O,{className:"h-4 w-4"})})]})]},s.id))}):e.jsx("div",{className:"bg-white rounded-sm border border-slate-200 shadow-sm overflow-hidden animate-in fade-in slide-in-from-bottom-2 duration-500",children:e.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 font-black text-black text-[9px] uppercase tracking-widest",children:"Zone Id"}),e.jsx("th",{className:"px-6 py-4 font-black text-black text-[9px] uppercase tracking-widest",children:"Regions"}),e.jsx("th",{className:"px-6 py-4 font-black text-black text-[9px] uppercase tracking-widest",children:"Status"}),e.jsx("th",{className:"px-6 py-4 font-black text-black text-[9px] uppercase tracking-widest text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:C.map(s=>e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-xs font-black text-black",children:s.name})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-wrap gap-1 max-w-md",children:[s.regions.slice(0,5).map((t,r)=>e.jsx("span",{className:"text-[8px] px-1.5 py-0.5 bg-slate-100 rounded text-slate-500 font-bold",children:t},r)),s.regions.length>5&&e.jsxs("span",{className:"text-[8px] px-1.5 py-0.5 bg-slate-100 rounded text-slate-500 font-bold",children:["+",s.regions.length-5]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-[8px] font-black uppercase tracking-widest ${s.is_active?"bg-emerald-500/10 text-emerald-600":"bg-slate-100 text-slate-500"}`,children:s.is_active?"Active":"Inactive"})}),e.jsxs("td",{className:"px-6 py-4 text-right flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>{I(s),A(!0)},className:"p-2 text-slate-400 hover:text-emerald-500 transition-colors",children:e.jsx(E,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>Q(s.id),className:"p-2 text-slate-400 hover:text-rose-500 transition-colors",children:e.jsx(O,{className:"h-4 w-4"})})]})]},s.id))})]})})})}),p==="profile"&&e.jsx("div",{className:"max-w-xl mx-auto space-y-4 animate-in fade-in slide-in-from-right-2 duration-500",children:e.jsxs("div",{className:"bg-white rounded-sm border border-slate-300 p-8 shadow-xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-emerald-500/5 blur-[40px] rounded-full -mr-10 -mt-10"}),e.jsxs("div",{className:"flex items-center gap-5 mb-8 pb-8 border-b border-slate-50",children:[e.jsx("div",{className:"w-16 h-16 bg-emerald-500 text-white rounded-sm flex items-center justify-center shadow-lg shadow-emerald-500/20",children:e.jsx(Z,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-black text-black tracking-tight",children:c.company_name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"px-2 py-0.5 bg-emerald-500 text-white text-[8px] font-black rounded uppercase tracking-widest",children:"Verified Infrastructure"}),e.jsx("span",{className:"text-[10px] text-slate-500 font-bold",children:"• Active Node Since 2024"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[9px] font-black text-black block mb-1.5",children:"Carrier ID / Email"}),e.jsx("p",{className:"text-xs font-black text-slate-800",children:c.business_email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[9px] font-black text-black block mb-1.5",children:"Command Hotline"}),e.jsx("p",{className:"text-xs font-black text-slate-800",children:c.business_phone||"--"})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("label",{className:"text-[9px] font-black text-black block mb-1.5",children:"Registry Description"}),e.jsx("p",{className:"text-xs text-black font-bold leading-relaxed",children:c.description||"Leading the regional supply chain with precision and scale."})]}),e.jsxs("div",{className:"pt-2 flex gap-3",children:[e.jsx("button",{onClick:()=>K("/logistic/settings"),className:"flex-1 py-3 bg-emerald-600 text-white font-black text-[10px] rounded-sm hover:bg-emerald-700 transition-all uppercase tracking-[0.2em] shadow-lg shadow-emerald-500/20",children:"Edit Registry Parameters"}),e.jsx("button",{className:"px-6 py-3 border border-slate-300 text-black font-black text-[10px] rounded-sm hover:bg-slate-100 transition-all uppercase tracking-widest",children:"Global Protocol"})]})]})}),p==="settings"&&e.jsxs("div",{className:"max-w-2xl mx-auto animate-in fade-in slide-in-from-right-2 duration-500 space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-sm border border-slate-300 shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"p-8 border-b border-slate-50 bg-slate-50/10",children:[e.jsx("h2",{className:"text-lg font-black tracking-tight text-black",children:"Account Settings"}),e.jsx("p",{className:"text-[10px] text-black mt-1",children:"Manage your company profile details"})]}),e.jsxs("form",{className:"p-8 space-y-6",onSubmit:async s=>{s.preventDefault();const t=new FormData(s.target),r={company_name:t.get("company_name"),description:t.get("description"),business_phone:t.get("business_phone")};try{const{error:a}=await x.from("logistics_profiles").update(r).eq("user_id",n==null?void 0:n.id);if(a)throw a;alert("Settings saved successfully."),N()}catch(a){alert(a.message)}},children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-black block ml-1",children:"Company Name"}),e.jsx("input",{name:"company_name",defaultValue:c.company_name,className:"w-full bg-white border border-slate-300 rounded-sm px-4 py-3 text-xs font-black outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all text-black"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-black block ml-1",children:"Phone Number"}),e.jsx("input",{name:"business_phone",defaultValue:c.business_phone||"",className:"w-full bg-white border border-slate-300 rounded-sm px-4 py-3 text-xs font-black outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all text-black"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-black block ml-1",children:"Description"}),e.jsx("textarea",{name:"description",defaultValue:c.description||"",className:"w-full bg-white border border-slate-300 rounded-sm px-4 py-3 text-xs font-black outline-none h-32 resize-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all text-black"})]}),e.jsx("div",{className:"pt-6 border-t border-slate-50 flex gap-4",children:e.jsx("button",{type:"submit",className:"flex-1 bg-emerald-600 text-white font-black py-4 rounded-sm text-xs uppercase tracking-[0.2em] shadow-lg shadow-emerald-500/20 hover:bg-emerald-700 transition-all active:scale-[0.98]",children:"Save Changes"})})]})]}),e.jsxs("div",{className:"bg-white rounded-sm border border-slate-300 shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"p-8 border-b border-slate-50 bg-rose-50/10",children:[e.jsx("h2",{className:"text-lg font-black tracking-tight text-black",children:"Security Settings"}),e.jsx("p",{className:"text-[10px] text-black mt-1",children:"Change your login password"})]}),e.jsxs("form",{onSubmit:be,className:"p-8 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-black block ml-1",children:"New Password"}),e.jsx("input",{type:"password",name:"new_password",required:!0,className:"w-full bg-white border border-slate-300 rounded-sm px-4 py-3 text-xs font-black outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all text-black"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-black block ml-1",children:"Confirm Password"}),e.jsx("input",{type:"password",name:"confirm_password",required:!0,className:"w-full bg-white border border-slate-300 rounded-sm px-4 py-3 text-xs font-black outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all text-black"})]})]}),e.jsx("button",{type:"submit",className:"w-full bg-slate-900 text-white font-black py-4 rounded-sm text-xs uppercase tracking-[0.2em] shadow-lg hover:bg-black transition-all active:scale-[0.98]",children:"Update Password"})]})]})]}),p==="notifications"&&e.jsxs("div",{className:"max-w-4xl mx-auto animate-in fade-in slide-in-from-right-2 duration-500 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-sm border border-slate-300 shadow-2xl overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-slate-50 bg-slate-50/10",children:e.jsx("h2",{className:"text-sm font-black tracking-tight text-black uppercase tracking-widest",children:"Broadcast Signal"})}),e.jsxs("form",{onSubmit:pe,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-black block ml-1",children:"Alert Title"}),e.jsx("input",{value:u.title,onChange:s=>D({...u,title:s.target.value}),required:!0,className:"w-full bg-white border border-slate-300 rounded-sm px-4 py-3 text-xs font-black outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all text-black"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-black block ml-1",children:"Target Audience"}),e.jsxs("select",{value:u.target,onChange:s=>D({...u,target:s.target.value}),className:"w-full bg-white border border-slate-300 rounded-sm px-4 py-3 text-xs font-black outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all text-black appearance-none",children:[e.jsx("option",{value:"all",children:"Global Broadcast"}),e.jsx("option",{value:"drivers",children:"Fleet Operators"}),e.jsx("option",{value:"partners",children:"Logistics Partners"})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-black block ml-1",children:"Signal Type"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:["info","alert","success"].map(s=>e.jsx("button",{type:"button",onClick:()=>D({...u,type:s}),className:`py-2 text-[9px] font-black uppercase tracking-wider border rounded-sm transition-all ${u.type===s?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-500 border-slate-200 hover:border-slate-400"}`,children:s},s))})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-black block ml-1",children:"Message Content"}),e.jsx("textarea",{value:u.message,onChange:s=>D({...u,message:s.target.value}),required:!0,className:"w-full bg-white border border-slate-300 rounded-sm px-4 py-3 text-xs font-black outline-none h-32 resize-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all text-black"})]}),e.jsx("button",{type:"submit",className:"w-full bg-emerald-600 text-white font-black py-4 rounded-sm text-[10px] uppercase tracking-[0.2em] shadow-lg hover:bg-emerald-700 transition-all active:scale-[0.98]",children:"Transmit Signal"})]})]})}),e.jsx("div",{className:"lg:col-span-2 space-y-4",children:d.length===0?e.jsxs("div",{className:"bg-white rounded-sm border border-dashed border-slate-300 p-12 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ee,{className:"h-5 w-5 text-slate-300"})}),e.jsx("h3",{className:"text-sm font-black text-black uppercase tracking-widest",children:"No Active Signals"}),e.jsx("p",{className:"text-[10px] text-slate-400 mt-2",children:"Broadcast history will appear here"})]}):d.map(s=>e.jsxs("div",{className:"bg-white rounded-sm border border-slate-200 p-6 shadow-sm hover:border-emerald-500 transition-all group relative overflow-hidden",children:[e.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 ${s.type==="alert"?"bg-rose-500":s.type==="success"?"bg-emerald-500":"bg-blue-500"}`}),e.jsxs("div",{className:"flex items-start justify-between mb-2 pl-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-black text-black tracking-tight",children:s.title}),e.jsxs("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:[new Date(s.created_at).toLocaleDateString()," • ",s.target]})]}),e.jsx("span",{className:`px-2 py-1 rounded text-[8px] font-black uppercase tracking-widest ${s.type==="alert"?"bg-rose-500/10 text-rose-600":s.type==="success"?"bg-emerald-500/10 text-emerald-600":"bg-blue-500/10 text-blue-600"}`,children:s.status})]}),e.jsx("p",{className:"text-xs text-slate-600 pl-2 leading-relaxed",children:s.message})]},s.id))})]}),p==="orders"&&e.jsxs("div",{className:"bg-white rounded-sm border border-slate-300 shadow-xl overflow-hidden animate-in fade-in slide-in-from-bottom-2 duration-500",children:[e.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/10 flex items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-black text-black tracking-[0.2em] uppercase",children:"Archive & Active Logs"}),e.jsx("p",{className:"text-[8px] text-slate-500 mt-1",children:"Status of all delivery requests"})]}),e.jsx("span",{className:"hidden sm:inline-block px-2 py-1 bg-slate-100 rounded text-[9px] font-black text-black whitespace-nowrap",children:"Vector Protocol History"})]}),e.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:e.jsxs("table",{className:"w-full text-left min-w-[800px]",children:[e.jsx("thead",{className:"bg-slate-50/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-8 py-5 font-black text-black text-[10px]",children:"Registry Ref"}),e.jsx("th",{className:"px-8 py-5 font-black text-black text-[10px]",children:"End Point Vector"}),e.jsx("th",{className:"px-8 py-5 font-black text-black text-[10px]",children:"Operator Node"}),e.jsx("th",{className:"px-8 py-5 font-black text-black text-[10px]",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:v.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"p-20 text-center text-black font-bold uppercase tracking-widest text-xs",children:"Awaiting data injection..."})}):v.map(s=>{var t,r;return e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[e.jsxs("td",{className:"px-8 py-6 font-mono font-black text-emerald-600 tracking-tighter text-sm",children:["#",s.tracking_number]}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-xl bg-slate-50 flex items-center justify-center",children:e.jsx(Y,{className:"h-4 w-4 text-slate-400"})}),e.jsx("span",{className:"font-black text-black max-w-[250px] truncate text-xs",children:s.delivery_address})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-xl bg-slate-100 flex items-center justify-center text-slate-800 text-[10px] font-black border border-slate-200",children:((t=s.driver)==null?void 0:t.driver_name.charAt(0))||"U"}),e.jsx("span",{className:"font-black text-black text-xs",children:((r=s.driver)==null?void 0:r.driver_name)||"Unassigned"})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("span",{className:`px-3 py-1.5 rounded-xl text-[9px] font-black uppercase tracking-widest inline-flex items-center gap-2 ${s.delivery_status==="delivered"?"bg-emerald-500/10 text-emerald-600":"bg-amber-500/10 text-amber-600"}`,children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${s.delivery_status==="delivered"?"bg-emerald-500":"bg-amber-500"} animate-pulse`}),s.delivery_status]})})]},s.id)})})]})})]})]}),ce&&e.jsx("div",{className:"fixed inset-0 bg-slate-950/60 backdrop-blur-md flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-sm w-full max-w-sm shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 border border-slate-300",children:[e.jsxs("div",{className:"p-6 border-b border-slate-200 flex items-center justify-between bg-slate-50/10",children:[e.jsx("h2",{className:"text-[10px] font-black text-black uppercase tracking-[0.2em]",children:m?"Update Driver":"Register Driver"}),e.jsx("button",{onClick:()=>P(!1),className:"p-2 text-slate-600 hover:text-rose-500 transition-colors",children:e.jsx(B,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:he,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-black ml-1",children:"Driver Name"}),e.jsx("input",{name:"driver_name",defaultValue:m==null?void 0:m.driver_name,required:!0,className:"w-full bg-white border border-slate-300 rounded-sm px-4 py-3 text-xs font-black outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all text-black",placeholder:"Full Name"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-black ml-1",children:"Phone Number"}),e.jsx("input",{name:"phone_number",defaultValue:m==null?void 0:m.phone_number,required:!0,className:"w-full bg-white border border-slate-300 rounded-sm px-4 py-3 text-xs font-black outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all text-black",placeholder:"+263..."})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-black ml-1",children:"Vehicle Type"}),e.jsxs("select",{name:"vehicle_type",defaultValue:m==null?void 0:m.vehicle_type,className:"w-full bg-white border border-slate-300 rounded-sm px-4 py-3 text-xs font-black outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all text-black appearance-none cursor-pointer",children:[e.jsx("option",{value:"motorcycle",children:"Motorcycle"}),e.jsx("option",{value:"van",children:"Van"}),e.jsx("option",{value:"truck",children:"Truck"})]})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-black ml-1",children:"Vehicle Number"}),e.jsx("input",{name:"vehicle_number",defaultValue:m==null?void 0:m.vehicle_number,required:!0,className:"w-full bg-white border border-slate-300 rounded-sm px-4 py-3 text-xs font-black outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all text-black",placeholder:"Plate / ID"})]}),e.jsx("button",{type:"submit",className:"w-full bg-emerald-600 text-white font-black py-4 rounded-sm text-[10px] uppercase tracking-[0.2em] shadow-lg hover:bg-emerald-700 transition-all mt-4",children:"Save Driver"})]})]})}),oe&&e.jsx("div",{className:"fixed inset-0 bg-slate-950/60 backdrop-blur-md flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-sm w-full max-w-sm shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 border border-slate-300",children:[e.jsxs("div",{className:"p-6 border-b border-slate-200 flex items-center justify-between bg-emerald-500/5",children:[e.jsx("h2",{className:"text-[10px] font-black text-black uppercase tracking-[0.2em]",children:"Shipping Rate Configuration"}),e.jsx("button",{onClick:()=>$(!1),className:"p-2 text-slate-600 hover:text-rose-500 transition-colors",children:e.jsx(B,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:ue,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-black ml-1",children:"Method Name"}),e.jsx("input",{name:"display_name",defaultValue:o==null?void 0:o.display_name,required:!0,className:"w-full bg-white border border-slate-300 rounded-sm px-4 py-3 text-xs font-black outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all text-black"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-black ml-1",children:"Base Rate ($)"}),e.jsx("input",{name:"base_cost",type:"number",step:"0.01",defaultValue:o==null?void 0:o.base_cost,required:!0,className:"w-full bg-white border border-slate-300 rounded-sm px-4 py-3 text-xs font-black outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all text-black"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[7px] font-black text-black ml-1",children:"Min Days"}),e.jsx("input",{name:"delivery_time_min",type:"number",defaultValue:o==null?void 0:o.delivery_time_min,required:!0,className:"w-full bg-white border border-slate-300 rounded-sm px-3 py-3 text-xs font-black outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all text-black"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[7px] font-black text-black ml-1",children:"Max Days"}),e.jsx("input",{name:"delivery_time_max",type:"number",defaultValue:o==null?void 0:o.delivery_time_max,required:!0,className:"w-full bg-white border border-slate-300 rounded-sm px-3 py-3 text-xs font-black outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all text-black"})]})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-black ml-1",children:"Description"}),e.jsx("textarea",{name:"description",defaultValue:o==null?void 0:o.description,className:"w-full bg-white border border-slate-300 rounded-sm px-4 py-3 text-xs font-black outline-none h-24 resize-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all text-black"})]}),e.jsx("button",{type:"submit",className:"w-full bg-emerald-600 text-white font-black py-4 rounded-sm text-[10px] uppercase tracking-[0.2em] shadow-lg shadow-emerald-500/20 hover:bg-emerald-700 transition-all mt-4",children:"Save Rate"})]})]})}),de&&e.jsx("div",{className:"fixed inset-0 bg-slate-950/60 backdrop-blur-md flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-sm w-full max-w-sm shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 border border-slate-300",children:[e.jsxs("div",{className:"p-6 border-b border-slate-200 flex items-center justify-between bg-emerald-500/5",children:[e.jsx("h2",{className:"text-[10px] font-black text-black uppercase tracking-[0.2em]",children:g?"Configure Zone":"New Definition"}),e.jsx("button",{onClick:()=>A(!1),className:"p-2 text-slate-600 hover:text-rose-500 transition-colors",children:e.jsx(B,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:ge,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-black ml-1",children:"Zone Identifier"}),e.jsx("input",{name:"name",defaultValue:g==null?void 0:g.name,required:!0,className:"w-full bg-white border border-slate-300 rounded-sm px-4 py-3 text-xs font-black outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all text-black",placeholder:"e.g. Inner City"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-black ml-1",children:"Included Regions (Comma Separated)"}),e.jsx("textarea",{name:"regions",defaultValue:g==null?void 0:g.regions.join(", "),className:"w-full bg-white border border-slate-300 rounded-sm px-4 py-3 text-xs font-black outline-none h-32 resize-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all text-black",placeholder:"Harare CBD, Avenues, Milton Park..."})]}),e.jsx("button",{type:"submit",className:"w-full bg-emerald-600 text-white font-black py-4 rounded-sm text-[10px] uppercase tracking-[0.2em] shadow-lg shadow-emerald-500/20 hover:bg-emerald-700 transition-all mt-4",children:"Save Configuration"})]})]})})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#F8FAFC] p-4",children:e.jsxs("div",{className:"text-center max-w-sm",children:[e.jsx("div",{className:"w-16 h-16 bg-emerald-100 text-emerald-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:e.jsx(Z,{className:"h-8 w-8"})}),e.jsx("h2",{className:"text-xl font-black text-slate-900 mb-2",children:"Logistics Profile Required"}),e.jsx("p",{className:"text-slate-500 text-sm mb-8",children:"We couldn't find your logistics company profile. Click below to initialize your carrier dashboard."}),e.jsx("button",{onClick:me,disabled:X,className:"w-full py-3 bg-emerald-600 text-white rounded-xl font-black text-xs uppercase tracking-widest hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-500/20 disabled:opacity-50",children:X?"Configuring Node...":"Initialize Carrier Profile"}),e.jsxs("p",{className:"mt-6 text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:["System Identity: ",n==null?void 0:n.email]})]})})}export{Xe as LogisticDashboard};
