import{r as a,b as v,c as N,u as S,j as e,M as b,s as k}from"./index-BktnpWS0.js";import{L as E}from"./lock-BwUOE3mp.js";function _(){const[n,i]=a.useState(""),[d,h]=a.useState(""),[c,t]=a.useState(""),[o,l]=a.useState(!1),[p,m]=a.useState(!1),[u,x]=a.useState(!1),{signIn:f}=v(),{settings:g}=N(),y=S(),j=async s=>{s.preventDefault(),t(""),l(!0);const{error:r}=await f(n,d);r?(t(r.message),l(!1)):y("/admin/dashboard")},w=async s=>{s.preventDefault(),t(""),l(!0);const{error:r}=await k.auth.resetPasswordForEmail(n,{redirectTo:`${window.location.origin}/admin/reset-password`});r?t(r.message):m(!0),l(!1)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cyan-50 via-white to-green-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-xl p-8 border border-gray-100",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("img",{src:g.site_logo,alt:g.site_name,className:"h-14 w-auto object-contain",onError:s=>{s.currentTarget.src="/zimaio_mineral_edition,_no_background_v1.2.png"}})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Admin Portal"}),e.jsx("p",{className:"text-sm text-gray-600",children:u?"Reset your password":"Sign in to manage your platform"})]}),c&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm",children:c}),p&&e.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 text-green-700 rounded-lg text-sm",children:"Password reset link has been sent to your email. Please check your inbox."}),u?e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(b,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"email",value:n,onChange:s=>i(s.target.value),className:"w-full pl-10 pr-4 py-2.5 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition",placeholder:"your.email@example.com",required:!0})]})]}),e.jsx("button",{type:"submit",disabled:o,className:"w-full py-2.5 text-base bg-gradient-to-r from-cyan-600 to-green-600 text-white rounded-lg font-semibold hover:from-cyan-700 hover:to-green-700 transition shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Sending...":"Send Reset Link"}),e.jsx("div",{className:"text-center pt-2",children:e.jsx("button",{type:"button",onClick:()=>{x(!1),t(""),m(!1)},className:"text-sm text-cyan-600 hover:text-cyan-700 font-medium",children:"Back to Sign In"})})]}):e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(b,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"email",value:n,onChange:s=>i(s.target.value),className:"w-full pl-10 pr-4 py-2.5 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition",placeholder:"your.email@example.com",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(E,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"password",value:d,onChange:s=>h(s.target.value),className:"w-full pl-10 pr-4 py-2.5 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition",placeholder:"••••••••",required:!0})]})]}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsx("button",{type:"button",onClick:()=>{x(!0),t("")},className:"text-sm text-cyan-600 hover:text-cyan-700 font-medium",children:"Forgot Password?"})}),e.jsx("button",{type:"submit",disabled:o,className:"w-full py-2.5 text-base bg-gradient-to-r from-cyan-600 to-green-600 text-white rounded-lg font-semibold hover:from-cyan-700 hover:to-green-700 transition shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Signing in...":"Sign In"})]})]})})}export{_ as AdminAuthPage};
